{% extends "base.html" %}

{% block title %}Login - Somerset College Portal{% endblock %}

{% block content %}
<div class="login-section">
    <div class="container">
        <div class="login-container">
            <div class="login-card">
                <div class="login-header">
                    <i class="fas fa-graduation-cap"></i>
                    <h2>Welcome Back</h2>
                    <p>Sign in to access your <span id="role-display">Somerset College</span> portal</p>
                </div>
                <form method="POST" class="login-form">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary login-btn">Sign In</button>
                </form>
                <div class="login-footer">
                    <h4>Demo Credentials:</h4>
                    <div class="credentials-section">
                        <div class="credential-group" id="admin-credentials" style="display: none;">
                            <h5>Admin:</h5>
                            <p><strong>Username:</strong> admin | <strong>Password:</strong> password</p>
                        </div>
                        <div class="credential-group" id="student-credentials" style="display: none;">
                            <h5>Students:</h5>
                            <p>Students should use their assigned school credentials.</p>
                        </div>
                        <div class="credential-group" id="teacher-credentials" style="display: none;">
                            <h5>Teachers:</h5>
                            <p><strong>Username:</strong> teacher001 | <strong>Password:</strong> teacher123</p>
                            <p><strong>Username:</strong> teacher015 | <strong>Password:</strong> teacher123</p>
                            <p><strong>Username:</strong> teacher030 | <strong>Password:</strong> teacher123</p>
                        </div>
                    </div>
                    <div class="back-to-signin">
                        <a href="{{ url_for('signin') }}" class="btn btn-outline">Choose Different Role</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Get the selected role from sessionStorage
const selectedRole = sessionStorage.getItem('selectedRole');

// Update the display based on selected role
if (selectedRole) {
    const roleDisplay = document.getElementById('role-display');
    const adminCreds = document.getElementById('admin-credentials');
    const studentCreds = document.getElementById('student-credentials');
    const teacherCreds = document.getElementById('teacher-credentials');
    
    switch(selectedRole) {
        case 'admin':
            roleDisplay.textContent = 'Administrator';
            adminCreds.style.display = 'block';
            break;
        case 'teacher':
            roleDisplay.textContent = 'Teacher';
            teacherCreds.style.display = 'block';
            break;
        case 'student':
            roleDisplay.textContent = 'Student';
            studentCreds.style.display = 'block';
            break;
        default:
            // Show all credentials if no role selected
            adminCreds.style.display = 'block';
            studentCreds.style.display = 'block';
            teacherCreds.style.display = 'block';
    }
} else {
    // Show all credentials if no role selected
    document.getElementById('admin-credentials').style.display = 'block';
    document.getElementById('student-credentials').style.display = 'block';
    document.getElementById('teacher-credentials').style.display = 'block';
}
</script>
{% endblock %}
